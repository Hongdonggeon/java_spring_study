# 자바가 확장한 객체 지향



## 1. abstract 키워드 - 추상 메서드와 추상 클래스

추상 메서드를 간단하게 설명하면 선언부는 있는데 구현부가 없는 메서드를 말한다.

추상 메서드를 하나라도 갖고 있는 클래스는 반드시 추상 클래스로 선언해야 한다. (추상 메서드 없이도 추상 클래스 선언 가능)

<br/>

### 추상 메서드가 필요하는 경우

```java
public class Driver{
    public static void main(String[] args) {
        동물[] 동물들 = new 동물[2];
        
        동물들[0] = new 쥐();
        동물들[1] = new 고양이();
        
        for(int i = 0; i < 동물들.length; i++){
            동물들[i].울어보세요();
        }
    }
}
```

<br/>

- 동물.java

```java
public abstract class 동물 {
    abstract void 울어보세요();
}
```

- 쥐.java

```java
public class 쥐 extends 동물 {
    void 울어보세요() {
        System.out.println("나는 쥐! 찍! 찍!");
    }
}
```

- 고양이.java

```java
public class 고양이 extends 동물{
    void 울어보세요() {
        System.out.println("나는 고양이! 야옹! 야옹!")
    }
}
```

동물 Class를 구현할 때 추상메서드로 구현하기 전에 위의 내용을 구현할 때 두가지 문제가 있었다.

1. 동물 객체는 어떻게 울어야 하지? / 누가 실수로 동물 객체를 만들면 어떡하지?
2. 동물 참조 변수 배열로 모든 동물을 울게 하려면 하위 클래스에서 오버라이딩할 울어보세요() 메서드가 동물 클래스에 필요하다.

동물 클래스를 추상 클래스로 구현하며 객체 생성을 못하게 했고 '울어보세요()'라는 추상 메서드 몸체를 구현하지 않게 했다. 그리고 동물 클래스를 상속하는 쥐, 고양이 들은 강제로 '울어보세요()'를 오버라이딩 하게 하면서 메서드를 구현하게 했다.

위의 두가지 문제가 추상메서드와 추상 클래스로 해결 된다.<br/>

 

### 추상 클래스/메서드의 특징

- **추상 클래스는 인스턴스, 즉 객체를 만들 수 없는 클래스가 된다.**
- **추상 메서드는 하위 클래스에게 메서드의 구현을 강제한다. 오버라이딩 강제**
- **추상 메서드를 포함하는 클래스는 반드시 추상 클래스여야 한다.**

<br/>

## 2. 생성자

클래스의 인스턴스를 만들 때마다 new 키워드를 사용한다.

> 동물 뽀로로 = new 동물();

new 클래스명() 을 보면 소괄호가 보이는데 메서드에 붙는 소괄호와는 다른 의미일까?

클래스명()도 메서드다. 반환값이 없고 클래스명과 같은 이름을 가진 메서드를 객체를 생성하는 메서드라고 해서 객체 생성자 메서드라고 한다. (줄여서 생성자라는 이름으로 많이 부른다.)

기본 생성자는 자바가 알아서 만들어준다. 필요하다면 인자를 갖는 생성자를 만들 수도 있다. 그렇지만 주의해야 하는게 인자를 갖는 생성자를 만들면 자바는 기본 생성자를 만들어 주지 않는다. 기본 생성자도 따로 만들어주어야 한다.

```java
public class 동물 {
    public 동물(String name) {
        System.out.println(name);
    }
}
```

```java
public class Driver02 {
    public static void main(String[] args){
        동물 뽀로로 = new 동물("뽀로로");
        동물 무명 = new 동물(); // 컴파일 에러
    }
}
```

동물에 기본 생성자를 따로 만들어 주지 않았으므로 컴파일 에러가 발생한다.



###  자바 생성자 특징

- **개발자가 아무런 생성자도 만들지 않으면 자바는 인자가 없는 기본 생성자를 자동으로 만들어준다.**
- **인자가 있는 생성자를 하나라도 만든다면 자바는 기본 생성자를 만들어 주지 않는다.**

<br/>

## 3. 클래스 생성 시의 실행 블록, static 블록

자바에는 클래스 생성자가 존재하지 않지만 클래스가 스태틱 영역에 배치될 때 실행되는 코드 블록인 static 블록이 있다.

static 블록에서 사용할 수 있는 속성과 메서드는 static 멤버 뿐이다. 객체 멤버는 클래스가 static 영역에 자리 잡은 후에 객체 생성자를 통해 힙에 생성된다. 클래스의 static 블록이 실행되고 있을 때는 해당 클래스의 객체는 하나도 존재하지 않기 때문에 static 블록에서는 객체 멤버에 접근할 수 없는 것이다.

클래스 정보는 해당 클래스가 코드에서 맨 처음 사용될 때 T 메모리의 스태틱 영역에 로딩되며, 이때 단 한번 해당클래스의 static 블록이 실행된다. 여기서 클래스가 제일 처음 사용 될 때는 세가지 경우 중 하나다.

- 클래스의 정적 속성을 사용할 때
- 클래스의 정적 메서드를 사용할 때
- 클래스의 인스턴스를 최초로 만들 때

<br/>

## 4. final 키워드

#### final과  클래스

상속을 허락하지 않는다. 하위 클래스 생성 불가능

#### final 과  변수

변경 불가능한 상수가 된다.

정적 상수는 선언 시에, 또는 static 블록 내부에서 초기확가 가능하다.

객체 상수는 선언 시에, 또는 객체 생성자 또는 인스턴스 블록에서 초기화할 수 있다.

지역 상수는 선언 시에, 또는 최초 한번만 초기화가 가능하다.

#### final 과 메서드

오버라이딩을 금지한다.

<br/>

## 5. instatnceof 연산자

instatnceof 연산자는 만들어진 객체가 특정 클래스의 인스턴스인지 물어보는 연산자다. 

> 객체_참조_변수 instanceof 클래스명

```java
class 동물 {
    
}

class 조류 extends 동물 {
    
}

class 펭귄 extends 조류 {
    
}

public class Driver {
    public static void main(String[] args) {
        동물 동물객체 = new 동물();
        동물 조류객체 = new 조류();
        동물 펭귄겍체 = new 펭귄();
    }
    
    System.out.println(조류객체 instanceof 동물);
  	System.out.println(펭귄객체 instanceof 조류);
    System.out.println(펭귄객체 instanceof 동물);
    System.out.println(펭귄객체 instanceof Object);
}
```

실행 결과는 모두 true다.

객체 참조 변수의 타입이 아닌 실제 객체의 타입에 의해 처리되기 때문이다.

인터페이스도 인터페이스를 구현한 클래스라면 만들어진 객체는 인터페이스 타입이 포함된다.

<br/>

## 6. package 키워드

package 키워드는 네임스페이스를 만들어주는 역할을 한다.

ex) Customer 클래스가 고객 사업부에도 있고 마케팅 사업부에도 있다면 클래스 이름을 고객사업부.Custmoer 와 마케팅사업부.CUstomer라고 지정하면 이름 충돌을 피할 수 있다.

<br/>

## 7. interface 키워드와 implements 키워드

인터페이스는 추상 메서드와 정적 상수만 가질 수 있기에 따로 메서드에 public, abstract 속성에 public, static, final을 붙이지 않아도 자동으로 자바가 알아서 붙여준다.

인터페이스를 구현할 때 public, static, final, abstract를 명시해 주는 것이 좋다.

<br/>

## 8. this 키워드

- 지역 변수와 속성(객체 변수, 정적 변수) 의 이름이 같은 경우 지역 변수가 우선한다.
- 객체 변수와 이름이 같은 지역 변수가 있는 경우 객체 변수를 사용하려면 this를 접두사로 사용한다.
- 정적 변수와 이름이 같은 지역 변수가 있는 경우 정적 변수를 사용하려면 클래스명을 접두사로 사용한다.



## 9. super 키워드

단일 상속만을 지원하는 자바에서 suepr는 위 상위 클래스의 인스턴스를 지칭하는 키워드다.

super 키워드로 바로 위의 상위클래스 인스턴스에는 접근할 수 있지만 super.super 형태로 상위의 상위 클래스의 인스턴스에는 접근이 불가능하다.

